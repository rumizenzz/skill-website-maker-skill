WEBVTT

00:00:02.000 --> 00:00:06.500
SkillStream Originalsへようこそ。

00:00:07.000 --> 00:00:13.500
今夜は、スキルを公開するためのWebサイトを作るスキル。Skillception。

00:00:14.000 --> 00:00:20.500
魔法じゃない。チェックリストだ。大人にとってチェックリストはだいたい魔法。

00:00:23.000 --> 00:00:28.500
つまり、そのスキルがスキルについての番組まで出すってこと?

00:00:29.000 --> 00:00:34.000
その通り。ドキュメントだけど、予算はポリゴン2枚。

00:00:36.000 --> 00:00:43.000
Codexが初期化されていないときにインストーラーが実行を拒否してくれるなら、私は眠れる。

00:00:44.000 --> 00:00:50.000
更新は? 退屈で安全だって言って。

00:00:50.400 --> 00:00:56.500
VERSIONとタグ。アップグレード時のバックアップ。スリルが段違い。

00:00:58.000 --> 00:01:14.000
公開サイトでは: 実行時の音声API呼び出しはなし。このエピソードは誰のクレジットも消費せずに何度でも見返せる。

00:01:15.000 --> 00:01:33.000
つまり、スキルを公開すると、そのスキルがスキル公開スキルを公開する。三つの法域で違法っぽい。

00:01:34.000 --> 00:01:52.000
落ち着いて。リポジトリは2つ。スキルのフォルダ用の公開リポと、ソースはたいてい非公開だけど公開デプロイされるサイト用リポ。

00:01:53.000 --> 00:02:10.000
非公開リポ、公開サイト。キッチンみたいなもの。棚を見なくてもスープは味わえる。

00:02:11.000 --> 00:02:27.000
そのスープ、SemVer味? 私は3つの数字のバージョンしか食べない。

00:02:28.000 --> 00:02:50.000
もちろん: SemVer、Keep a Changelog、そしてシークレットスキャン。うっかり .env と尊厳を公開しないために。

00:02:51.000 --> 00:03:10.000
APIキーをチャットに貼ったら、漏洩したものとして扱う。ローテーションして。ロボットと口論しない。

00:03:11.000 --> 00:03:34.000
短いインストーラーも用意した: curlで /install.sh、または iwrで /install.ps1。後で同じコマンドで更新できる。

00:03:35.000 --> 00:03:55.000
自分で更新するワンライナー。やっと、約束したら本当に変わる関係。

00:04:02.000 --> 00:04:25.000
よし、乗った。でもCODEX_HOMEを5歳児に説明して。端末が私を裁いてる。

00:04:26.000 --> 00:04:52.000
CODEX_HOMEはCodexがskillsとauthに使うフォルダ。既定はmacOSなら ~/.codex、Windowsなら %USERPROFILE%\.codex。

00:04:53.000 --> 00:05:15.000
場所を変えたなら? CODEX_HOMEを設定して。そうしないとインストーラーは拒否して、丁寧にあなたのせいにする。

00:05:16.000 --> 00:05:40.000
丁寧に拒否するインストーラーは私の愛の言語。『エラー: あなたはまだコミットできない』。

00:05:41.000 --> 00:06:10.000
ゲートは4つを確認する: フォルダがある、skills/ がある、auth.json がある、そして組み込みのインストールスクリプトがある。

00:06:11.000 --> 00:06:35.000
最後が最高。『あなたがskillsをインストールできると証明できない限り、私はskillsをインストールできない』。

00:06:36.000 --> 00:07:02.000
再帰じゃない。安全対策。それに、二度と使わない適当なフォルダへインストールするのを防ぐ。

00:07:03.000 --> 00:07:30.000
通ったら、公開スキルリポのzipをダウンロードして展開し、スキルフォルダだけをCODEX_HOME/skillsにコピーする。

00:07:31.000 --> 00:07:50.000
だからサイト自体は落ちてこない。スキルだけ。料理本を頼んでレストラン丸ごと届かないのと同じ。

00:07:51.000 --> 00:08:05.000
すでにインストール済みなら?

00:08:06.000 --> 00:08:40.000
最新だと言う。もしくは更新する: 旧フォルダをバックアップして新しいのを入れ、失敗したらロールバックする。

00:08:41.000 --> 00:09:05.000
上級者向けフラグもある: 修復はFORCE=1、.bakを残すならKEEP_BACKUP=1。普通の人は: ただコマンドをもう一度。

00:09:06.000 --> 00:09:30.000
普通の人もコマンドは再実行する。『一回切って入れ直す』って呼ぶだけ。

00:09:31.000 --> 00:10:04.000
サイト上では本物っぽい端末出力を再現: 成功、Codexなし、未初期化、カスタムCODEX_HOME、更新あり。

00:10:05.000 --> 00:10:32.000
しかも実スクリプトと完全一致。デモが嘘をついたら、私はデモに対してissueを立てる。

00:10:33.000 --> 00:11:00.000
issueと言えば: サポートはGitHub Issuesだけだよね? 『前回のメールの通り』で始まる地獄のメール連鎖は無し。

00:11:01.000 --> 00:11:34.000
その通り。issueとreleasesは公開スキルリポで。サイトのリポは非公開でもいい。サイトのリンクは常に公開側へ。

00:11:35.000 --> 00:11:58.000
つまり、ドキュメントは公開、ソースは非公開、そして私のミスは永遠。最高。

00:12:02.000 --> 00:12:28.000
ではメンテナが震える部分: 生成される全サイトに埋め込まれるストリーミング風プレイヤー。

00:12:29.000 --> 00:12:57.000
どの配信サービスとも無関係。商標なし。借り物の音もなし。あるのは雰囲気だけ。

00:12:58.000 --> 00:13:26.000
雰囲気はブランドコピーとは法的に別物。『コピーしてない、違う帽子で同じ結論に辿り着いただけ』みたいな。

00:13:27.000 --> 00:13:56.000
エピソードは事前生成して静的ファイルとして配布: mp3、script.json、そして9言語の字幕。

00:13:57.000 --> 00:14:20.000
実行時の音声API呼び出しなし。キー露出なし。チャットに貼ったそのキー? ローテーションして。本気。

00:14:21.000 --> 00:14:48.000
クレジットが切れても慌てない。サイトは既存のエピソードを再生し続ける。コメディはキャッシュされている。

00:14:49.000 --> 00:15:18.000
見返したい? 一度Playを押すだけ。service workerが /show/* をキャッシュして、回線が不安定でもスムーズに再生できる。

00:15:19.000 --> 00:15:44.000
service workerは帯域の用心棒。『リストに載ってる。入れ。今夜は新しいダウンロード無し』。

00:15:45.000 --> 00:16:10.000
Rangeリクエストもキャッシュから対応するので、オフラインでもシークできる。あの一文は、感じたくて書いた。

00:16:11.000 --> 00:16:42.000
魔法が嫌いな人向けに: 『オフライン保存』ボタンもある。エピソードをダウンロードしてブラウザのストレージに固定する。

00:16:43.000 --> 00:17:12.000
つまりショーはスキルみたいにインストールされる: 一度見たら、静かに家に住み続ける。

00:17:13.000 --> 00:17:42.000
そう。そして自分のスキルサイトを公開するときは、自分のパイロットに差し替えられる。新キャスト。新ジョーク。同じテンプレ。

00:17:43.000 --> 00:18:00.000
ジョークはオリジナルでお願い。『シーズン1: APIキー』を見たら法務に電話する。

00:18:02.000 --> 00:18:26.000
じゃあ、スキルがサイトを作り、サイトがスキルをインストールし、スキルが自分を公開できる。宇宙は崩壊する?

00:18:27.000 --> 00:18:50.000
VERSIONを上げ忘れたときだけ。すると時間そのものが前に進むのを拒否する。

00:18:51.000 --> 00:19:16.000
上げたら、同じ番号でタグ付きリリースを作る。VERSION=tag=release。現実の整合性を保つ。

00:19:17.000 --> 00:19:44.000
その間、インストーラーはそのVERSIONを読んで自動で私を更新する。つまり私は感情のあるパッケージマネージャー。

00:19:45.000 --> 00:20:00.000
みんな感情のあるパッケージマネージャー。それがこの番組。

00:20:02.000 --> 00:20:30.000
ステージに戻って: 初めての人向けに要点。スキルフォルダを選ぶ。publishを押す。サイトとインストーラーとドキュメントとDeploy Previewsが手に入る。

00:20:31.000 --> 00:20:56.000
PRからのDeploy Previews。今までで唯一、自尊心を改善してくれたプレビュー。

00:20:57.000 --> 00:21:26.000
インストーラーが拒否しても失礼じゃない。『どこにもインストールしない』ための保護だ。Codexを一度起動してから、もう一度。

00:21:27.000 --> 00:21:50.000
おやすみ。メンテナにはチップを。あなたのauth.jsonが、思っている場所に必ずありますように。

00:21:50.000 --> 00:21:58.000
エンドクレジット: 商標じゃなくテンプレートで作りました。

00:21:58.000 --> 00:22:00.000
ご視聴ありがとうございました。

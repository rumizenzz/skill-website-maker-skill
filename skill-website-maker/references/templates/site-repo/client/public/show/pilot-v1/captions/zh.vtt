WEBVTT

00:00:02.000 --> 00:00:06.500
欢迎来到 SkillStream Originals。

00:00:07.000 --> 00:00:13.500
今晚: 一个用来发布你的技能的网站生成技能。Skillception。

00:00:14.000 --> 00:00:20.500
这不是魔法，这是清单。清单基本上就是成年人版的魔法。

00:00:23.000 --> 00:00:28.500
所以你是说，这个技能还会发布一档节目... 讲这个技能?

00:00:29.000 --> 00:00:34.000
没错。这是文档，只是预算只有两个多边形。

00:00:36.000 --> 00:00:43.000
只要安装器在 Codex 未初始化时拒绝运行，我就能安心睡觉。

00:00:44.000 --> 00:00:50.000
那更新呢? 请告诉我更新既无聊又安全。

00:00:50.400 --> 00:00:56.500
VERSION 加标签。升级时备份。刺激得无与伦比。

00:00:58.000 --> 00:01:14.000
面向公开站点: 不在运行时调用语音 API。你可以反复观看这一集，而不消耗任何人的额度。

00:01:15.000 --> 00:01:33.000
也就是说: 你发布一个技能，然后这个技能去发布发布技能的技能。这在三个司法辖区里听起来都不合法。

00:01:34.000 --> 00:01:52.000
放轻松。两个仓库: 一个公开用于技能文件夹; 另一个通常私有用于网站源码，但会公开部署。

00:01:53.000 --> 00:02:10.000
私有仓库，公开网站。就像厨房。你不需要看见我的橱柜，也能尝到汤。

00:02:11.000 --> 00:02:27.000
这汤是 SemVer 味的吗? 因为我只吃三段数字的版本。

00:02:28.000 --> 00:02:50.000
是的: SemVer、Keep a Changelog，以及一个秘密扫描，避免你不小心把 .env 和尊严一起发布出去。

00:02:51.000 --> 00:03:10.000
如果你把 API key 粘贴到聊天里，就默认它已泄露。去轮换它。别跟机器人争辩。

00:03:11.000 --> 00:03:34.000
我们还给你一个很短的安装命令: curl 到 /install.sh 或 iwr 到 /install.ps1。以后同一条命令还能更新。

00:03:35.000 --> 00:03:55.000
会自我更新的一行命令。终于，有一种关系会在承诺后真的改变。

00:04:02.000 --> 00:04:25.000
好，我入坑。但请把 CODEX_HOME 当我五岁来解释，我的终端在审判我。

00:04:26.000 --> 00:04:52.000
CODEX_HOME 就是 Codex 用来放 skills 和 auth 的文件夹。默认 macOS 是 ~/.codex，Windows 是 %USERPROFILE%\.codex。

00:04:53.000 --> 00:05:15.000
如果你把它挪走了? 设置 CODEX_HOME。否则安装器会拒绝，并且礼貌地怪你。

00:05:16.000 --> 00:05:40.000
礼貌拒绝的安装器就是我的爱之语。'错误: 你还没准备好承诺。'

00:05:41.000 --> 00:06:10.000
门禁会检查四件事: 文件夹存在、skills/ 存在、auth.json 存在、以及内置安装脚本存在。

00:06:11.000 --> 00:06:35.000
最后一条我最爱。'除非我能证明你会安装 skills，否则我不能安装 skills。'

00:06:36.000 --> 00:07:02.000
这不是递归，这是安全。而且: 它防止你把东西装进一个你永远不会用的随机文件夹。

00:07:03.000 --> 00:07:30.000
通过后，它会下载公开技能仓库的 zip，解压，然后只把技能文件夹复制到 CODEX_HOME/skills。

00:07:31.000 --> 00:07:50.000
所以不会下载网站。只下载技能。就像你点了本菜谱，却没收到整家餐厅。

00:07:51.000 --> 00:08:05.000
那如果已经安装了呢?

00:08:06.000 --> 00:08:40.000
它会说已是最新。或者升级: 先备份旧文件夹，安装新文件夹，失败就回滚。

00:08:41.000 --> 00:09:05.000
给高级用户也有开关: FORCE=1 用于修复，KEEP_BACKUP=1 保留 .bak 文件夹。普通人: 直接再跑一遍命令。

00:09:06.000 --> 00:09:30.000
普通人也会重跑命令。我们只是把它叫做'关机再开机'。

00:09:31.000 --> 00:10:04.000
在网站上，我们模拟真实的终端输出: 成功、缺少 Codex、未初始化、自定义 CODEX_HOME、有更新。

00:10:05.000 --> 00:10:32.000
而且完全匹配真实脚本。要是演示撒谎，我会亲自给演示提一个 issue。

00:10:33.000 --> 00:11:00.000
说到 issue: 支持就是 GitHub Issues 对吧? 不要那种以'如我上一封邮件所述'开头的邮件长链。

00:11:01.000 --> 00:11:34.000
没错。公开技能仓库用于 issues 和 releases。网站仓库可以私有。站点链接永远指向公开仓库。

00:11:35.000 --> 00:11:58.000
所以文档是公开的，源码是私有的，我的失误永远保留。太棒了。

00:12:02.000 --> 00:12:28.000
现在，说一个让维护者紧张的点: 每个生成的网站里都内置一个流媒体风格播放器。

00:12:29.000 --> 00:12:57.000
不隶属于任何流媒体服务。没有商标。没有借用的音效。只有氛围。

00:12:58.000 --> 00:13:26.000
氛围在法律上和品牌不一样。就像说: '我没抄，我只是戴了另一顶帽子想到同一个点子。'

00:13:27.000 --> 00:13:56.000
这一集是预生成并以静态文件形式发布的: mp3、script.json，以及九种语言的字幕。

00:13:57.000 --> 00:14:20.000
不在运行时调用语音 API。不暴露密钥。你粘贴到聊天里的那把钥匙? 去轮换它。真的。

00:14:21.000 --> 00:14:48.000
如果额度用完，我们也不慌。网站继续播放已有的这一集。喜剧是有缓存的。

00:14:49.000 --> 00:15:18.000
想重看? 点一次 Play，service worker 就会缓存 /show/*，即使网络很飘也能顺畅重播。

00:15:19.000 --> 00:15:44.000
service worker 基本就是你带宽的保安。'你在名单上。进去吧。今晚不准新下载。'

00:15:45.000 --> 00:16:10.000
我们甚至支持从缓存响应 Range 请求，所以离线也能拖动进度条。我写这句只是为了感受点什么。

00:16:11.000 --> 00:16:42.000
给不喜欢魔法的人: 还有一个'离线保存'按钮。它会下载并把这一集固定在浏览器存储里。

00:16:43.000 --> 00:17:12.000
所以这节目就像技能一样被安装: 你看一次，它就悄悄住进你家一辈子。

00:17:13.000 --> 00:17:42.000
没错。而当你发布你自己的技能站点时，也可以换成你自己的 pilot。新演员。新笑点。同一套模板。

00:17:43.000 --> 00:18:00.000
请保持笑话原创。要是我看到'第一季: API Key'，我就去找法务。

00:18:02.000 --> 00:18:26.000
所以技能做网站，网站安装技能，技能还能发布自己。宇宙会崩吗?

00:18:27.000 --> 00:18:50.000
只有当你忘了 bump VERSION。那时候时间本身都会拒绝向前走。

00:18:51.000 --> 00:19:16.000
如果你 bump 了，就用同一个数字打 tag 并发布 release。VERSION 等于 tag 等于 release。我们保持现实一致。

00:19:17.000 --> 00:19:44.000
与此同时，安装器读取那个 VERSION 并自动升级我。所以我基本上就是一个有感情的包管理器。

00:19:45.000 --> 00:20:00.000
你们都是有感情的包管理器。这就是整部剧。

00:20:02.000 --> 00:20:30.000
回到舞台: 新来的听好。选一个技能文件夹。点 publish。你会得到网站、安装器、文档和 Deploy Previews。

00:20:31.000 --> 00:20:56.000
PR 的 Deploy Previews。唯一一种真正提高过我自尊的预览。

00:20:57.000 --> 00:21:26.000
安装器拒绝时并不是无礼。它是在保护你别把东西装到'什么都不是'的地方。先运行一次 Codex，再重试。

00:21:27.000 --> 00:21:50.000
晚安。给维护者小费。愿你的 auth.json 永远在你以为它在的位置。

00:21:50.000 --> 00:21:58.000
片尾: 用模板做的，不是用商标。

00:21:58.000 --> 00:22:00.000
感谢观看。
